"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const db_1 = require("./db");
const models_1 = require("./models");
const const_1 = require("./const");
let task = '';
const arg = process.argv[2];
if (arg) {
    task = arg;
}
else {
    process.argv.forEach((val, index, array) => {
        console.log(`${index}: ${val}`);
    });
    console.log(`Please, use one from next options:
              ${const_1.Task.cashierCreate}, 
              ${const_1.Task.cashierUpdate},  
              ${const_1.Task.cashierDelete}, 
              ${const_1.Task.getAllCashiers}, 
              ${const_1.Task.useFilter1}, 
              ${const_1.Task.useFilter2}, 
              ${const_1.Task.getTargetCashiers1} or  
              ${const_1.Task.getTargetCashiers2}`);
}
console.log(process.argv[2]);
const db = new db_1.ShopDB('db.sqlite');
if (task === const_1.Task.cashierCreate) {
    const newCashier = {
        id: null,
        personnelNumber: '457932',
        employeeName: {
            lastName: 'Бабенко',
            firstName: 'Анна',
            patronymic: 'Николаевна',
        },
        sex: models_1.Sex.female,
        phone: '380962571544',
        addr: {
            city: models_1.City.Одесса,
            street: 'ул. Бенюка',
            building: 45,
            litera: null,
            apartment: null,
        },
        birthday: null,
        shopID: 17,
        startWork: new Date(2021, 2, 18),
        endWork: null,
        lastNet: models_1.Net.Comfy,
    };
    const newCashierId = db.addCashier(newCashier);
    newCashierId.then((value) => {
        newCashier.id = value;
        console.log(newCashier.id);
        const tmpCashier = db.getCashierById(newCashier.id);
        tmpCashier.then((values) => {
            const cashier = values;
            console.log(cashier);
            cashier.birthday = new Date(1983, 0, 3);
            cashier.addr.building = 45;
            cashier.addr.apartment = 15;
            console.log(cashier);
            db.updateCashier(cashier);
        });
    });
}
if (task === const_1.Task.cashierDelete) {
    db.delCashier(20);
}
if (task === const_1.Task.getAllCashiers) {
    db.getAllCashiers();
}
if (task === const_1.Task.useFilter1) {
    const fltr1 = {
        firstName: 'Анна',
        lastNet: models_1.Net['Metro Cash&Carry'],
    };
    db.getAllFiltredCashiers(fltr1);
}
if (task === const_1.Task.useFilter2) {
    const fltr2 = {
        operator: '096',
        city: models_1.City.Мариуполь,
    };
    db.getAllFiltredCashiers(fltr2);
}
if (task === const_1.Task.getTargetCashiers1) {
    db.getTargetCashiers1();
}
if (task === const_1.Task.getTargetCashiers2) {
    db.getTargetCashiers2();
}
if (!task) {
    db.close();
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2FwcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUlBLDZCQUE4QjtBQUM5QixxQ0FFa0I7QUFDbEIsbUNBQStCO0FBRS9CLElBQUksSUFBSSxHQUFVLEVBQUUsQ0FBQztBQUNyQixNQUFNLEdBQUcsR0FBVSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ25DLElBQUksR0FBRyxFQUFFO0lBQ1AsSUFBSSxHQUFHLEdBQUcsQ0FBQztDQUNaO0tBQU07SUFDTCxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDekMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ2xDLENBQUMsQ0FBQyxDQUFDO0lBQ0gsT0FBTyxDQUFDLEdBQUcsQ0FBQztnQkFDRSxZQUFJLENBQUMsYUFBYTtnQkFDbEIsWUFBSSxDQUFDLGFBQWE7Z0JBQ2xCLFlBQUksQ0FBQyxhQUFhO2dCQUNsQixZQUFJLENBQUMsY0FBYztnQkFDbkIsWUFBSSxDQUFDLFVBQVU7Z0JBQ2YsWUFBSSxDQUFDLFVBQVU7Z0JBQ2YsWUFBSSxDQUFDLGtCQUFrQjtnQkFDdkIsWUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FBQztDQUMxQztBQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBRzdCLE1BQU0sRUFBRSxHQUFHLElBQUksV0FBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBR25DLElBQUksSUFBSSxLQUFLLFlBQUksQ0FBQyxhQUFhLEVBQUU7SUFDL0IsTUFBTSxVQUFVLEdBQVk7UUFDMUIsRUFBRSxFQUFFLElBQUk7UUFDUixlQUFlLEVBQUUsUUFBUTtRQUN6QixZQUFZLEVBQUU7WUFDWixR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QUUsQ0FBQztDQUNaIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwIG1haW4gcG9pbnQ7XG4vLyBjYW4gaGF2ZSBmdWxsIEFQSSByb3V0aW5nIGZvciBDUlVEICh3aWxsIGJlIHBsdXMpIE9SIGluIHNpbXBsaWZpZWQgdmVyc2lvbjpcbi8vIGNhbiBvbmx5IGNhbGwgZ2V0QWxsQ2FzaGllcnMgKyBnZXRUYXJnZXRDYXNoaWVyczEgKyBnZXRUYXJnZXRDYXNoaWVyczIgYW5kIGxvZyBvdXRwdXQgb2YgYm90aFxuLy8gSW1wb3J0IGRlcGVuZGVuY2llc1xuaW1wb3J0IHsgU2hvcERCIH0gZnJvbSAnLi9kYic7XG5pbXBvcnQge1xuICBJQ2FzaGllciwgU2V4LCBDaXR5LCBOZXQsIFNxbEZpbHRlcixcbn0gZnJvbSAnLi9tb2RlbHMnO1xuaW1wb3J0IHsgVGFzayB9IGZyb20gJy4vY29uc3QnO1xuXG5sZXQgdGFzazpzdHJpbmcgPSAnJztcbmNvbnN0IGFyZzpzdHJpbmcgPSBwcm9jZXNzLmFyZ3ZbMl07XG5pZiAoYXJnKSB7XG4gIHRhc2sgPSBhcmc7XG59IGVsc2Uge1xuICBwcm9jZXNzLmFyZ3YuZm9yRWFjaCgodmFsLCBpbmRleCwgYXJyYXkpID0+IHtcbiAgICBjb25zb2xlLmxvZyhgJHtpbmRleH06ICR7dmFsfWApO1xuICB9KTtcbiAgY29uc29sZS5sb2coYFBsZWFzZSwgdXNlIG9uZSBmcm9tIG5leHQgb3B0aW9uczpcbiAgICAgICAgICAgICAgJHtUYXNrLmNhc2hpZXJDcmVhdGV9LCBcbiAgICAgICAgICAgICAgJHtUYXNrLmNhc2hpZXJVcGRhdGV9LCAgXG4gICAgICAgICAgICAgICR7VGFzay5jYXNoaWVyRGVsZXRlfSwgXG4gICAgICAgICAgICAgICR7VGFzay5nZXRBbGxDYXNoaWVyc30sIFxuICAgICAgICAgICAgICAke1Rhc2sudXNlRmlsdGVyMX0sIFxuICAgICAgICAgICAgICAke1Rhc2sudXNlRmlsdGVyMn0sIFxuICAgICAgICAgICAgICAke1Rhc2suZ2V0VGFyZ2V0Q2FzaGllcnMxfSBvciAgXG4gICAgICAgICAgICAgICR7VGFzay5nZXRUYXJnZXRDYXNoaWVyczJ9YCk7XG59XG5jb25zb2xlLmxvZyhwcm9jZXNzLmFyZ3ZbMl0pO1xuXG4vLyBjb25uZWN0aW5nIHRvIHRoZSBzaG9wIERCIChsb2dpbiBhbmQgcGFzc3dvcmQgbm90IHJlcXVpcmUpXG5jb25zdCBkYiA9IG5ldyBTaG9wREIoJ2RiLnNxbGl0ZScpO1xuXG4vLyBjcmVhdGluZyBhIG5ldyBDYXNoZWlyLCBnZXQgaW5mb3JtYXRpb24gYWJvdXQgaXQgYW5kIHVwZGF0ZSBzb21lIGZpZWxkc1xuaWYgKHRhc2sgPT09IFRhc2suY2FzaGllckNyZWF0ZSkge1xuICBjb25zdCBuZXdDYXNoaWVyOklDYXNoaWVyID0ge1xuICAgIGlkOiBudWxsLFxuICAgIHBlcnNvbm5lbE51bWJlcjogJzQ1NzkzMicsXG4gICAgZW1wbG95ZWVOYW1lOiB7XG4gICAgICBsYXN0TmFtZTogJ9CR0LDQsdC10L3QutC+JyxcbiAgICAgIGZpcnN0TmFtZTogJ9CQ0L3QvdCwJyxcbiAgICAgIHBhdHJvbnltaWM6ICfQndC40LrQvtC70LDQtdCy0L3QsCcsXG4gICAgfSxcbiAgICBzZXg6IFNleC5mZW1hbGUsXG4gICAgcGhvbmU6ICczODA5NjI1NzE1NDQnLFxuICAgIGFkZHI6IHtcbiAgICAgIGNpdHk6IENpdHku0J7QtNC10YHRgdCwLFxuICAgICAgc3RyZWV0OiAn0YPQuy4g0JHQtdC90Y7QutCwJyxcbiAgICAgIGJ1aWxkaW5nOiA0NSxcbiAgICAgIGxpdGVyYTogbnVsbCxcbiAgICAgIGFwYXJ0bWVudDogbnVsbCxcbiAgICB9LFxuICAgIGJpcnRoZGF5OiBudWxsLFxuICAgIHNob3BJRDogMTcsXG4gICAgc3RhcnRXb3JrOiBuZXcgRGF0ZSgyMDIxLCAyLCAxOCksXG4gICAgZW5kV29yazogbnVsbCxcbiAgICBsYXN0TmV0OiBOZXQuQ29tZnksXG4gIH07XG5cbiAgLy8gYWRkaW5nIGNyZWF0ZWQgQ2FzaGllciB0byB0aGUgREJcbiAgY29uc3QgbmV3Q2FzaGllcklkOlByb21pc2U8bnVtYmVyPiA9IGRiLmFkZENhc2hpZXIobmV3Q2FzaGllcik7XG4gIG5ld0Nhc2hpZXJJZC50aGVuKCh2YWx1ZSkgPT4ge1xuICAgIG5ld0Nhc2hpZXIuaWQgPSB2YWx1ZTtcbiAgICBjb25zb2xlLmxvZyhuZXdDYXNoaWVyLmlkKTtcblxuICAgIC8vIGdldHRpbmcgaW5mb3JtYXRpb24gYWJvdXQgY2FzaGllciB3aXRoIGlkPTE5IGFuZCB1cGRhdGluZyBpdFxuICAgIGNvbnN0IHRtcENhc2hpZXI6UHJvbWlzZTxJQ2FzaGllcj4gPSBkYi5nZXRDYXNoaWVyQnlJZChuZXdDYXNoaWVyLmlkKTtcbiAgICB0bXBDYXNoaWVyLnRoZW4oKHZhbHVlcykgPT4ge1xuICAgICAgY29uc3QgY2FzaGllcjpJQ2FzaGllciA9IHZhbHVlcztcbiAgICAgIGNvbnNvbGUubG9nKGNhc2hpZXIpO1xuXG4gICAgICAvLyB1cGRhdGluZyBpbmZvcm1hdGlvbiBhYm91dCBjYXNoaWVyXG4gICAgICBjYXNoaWVyLmJpcnRoZGF5ID0gbmV3IERhdGUoMTk4MywgMCwgMyk7IC8vIE1vbnRoIGluIDAtMTFcbiAgICAgIGNhc2hpZXIuYWRkci5idWlsZGluZyA9IDQ1O1xuICAgICAgY2FzaGllci5hZGRyLmFwYXJ0bWVudCA9IDE1O1xuICAgICAgY29uc29sZS5sb2coY2FzaGllcik7XG4gICAgICBkYi51cGRhdGVDYXNoaWVyKGNhc2hpZXIpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gZGVsZXRpbmcgaW5mb3JtYXRpb24gYWJvdXQgY2FzaGllciB3aXRoIHNvbWUgaWRcbmlmICh0YXNrID09PSBUYXNrLmNhc2hpZXJEZWxldGUpIHtcbiAgZGIuZGVsQ2FzaGllcigyMCk7XG4vLyBkYi5jb21wbGV0RGVsZXRlQ2FzaGllcigyMCk7XG59XG4vLyBnZXR0aW5nIGluZm8gYWJvdXQgYWxsIGNhc2hpZXJzXG5pZiAodGFzayA9PT0gVGFzay5nZXRBbGxDYXNoaWVycykge1xuICBkYi5nZXRBbGxDYXNoaWVycygpO1xufVxuXG4vLyBnZXR0aW5nIGluZm8gYWJvdXQgYWxsIGNhc2hpZXJzIGFjY29yZGluZyBzb21lIGZpbHRlcnNcbi8vIGdldCBhbGwgY2FzaGllcnMgd2l0aCBmaXJzdCBuYW1lIEFubmEgd2hpY2ggd29ya2VkIGluIE1ldHJvIENhc2gmQ2FycnlcbmlmICh0YXNrID09PSBUYXNrLnVzZUZpbHRlcjEpIHtcbiAgY29uc3QgZmx0cjE6U3FsRmlsdGVyID0ge1xuICAgIGZpcnN0TmFtZTogJ9CQ0L3QvdCwJyxcbiAgICBsYXN0TmV0OiBOZXRbJ01ldHJvIENhc2gmQ2FycnknXSxcbiAgfTtcbiAgZGIuZ2V0QWxsRmlsdHJlZENhc2hpZXJzKGZsdHIxKTtcbn1cblxuLy8gZ2V0IGFsbCBjYXNoaWVycyBmcm9tIE1hcml1cG9sIGFuZCBwaG9uZSBudW1iZXIgd2l0aCBjb2RlIG9wZXJhdG9yIDA5NlxuaWYgKHRhc2sgPT09IFRhc2sudXNlRmlsdGVyMikge1xuICBjb25zdCBmbHRyMiA9IHtcbiAgICBvcGVyYXRvcjogJzA5NicsXG4gICAgY2l0eTogQ2l0eS7QnNCw0YDQuNGD0L/QvtC70YwsXG4gIH07XG4gIGRiLmdldEFsbEZpbHRyZWRDYXNoaWVycyhmbHRyMik7XG59XG5cbi8vIGdldHRpbmcgaW5mb3JtYXRpb24gYWJvdXQgY2FzaGllciB3aXRoIGEgc3BlY2lhbCBmaWx0ZXJfMVxuaWYgKHRhc2sgPT09IFRhc2suZ2V0VGFyZ2V0Q2FzaGllcnMxKSB7XG4gIGRiLmdldFRhcmdldENhc2hpZXJzMSgpO1xufVxuXG4vLyBnZXR0aW5nIGluZm9ybWF0aW9uIGFib3V0IGNhc2hpZXIgd2l0aCBhIHNwZWNpYWwgZmlsdGVyXzJcbmlmICh0YXNrID09PSBUYXNrLmdldFRhcmdldENhc2hpZXJzMikge1xuICBkYi5nZXRUYXJnZXRDYXNoaWVyczIoKTtcbn1cblxuLy8gY2xvc2UgREIgYW5kIGNvbm5lY3Rpb25cbmlmICghdGFzaykge1xuICBkYi5jbG9zZSgpO1xufVxuIl19